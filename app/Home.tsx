import React, { useState, useEffect, useRef, useCallback } from "react";
import { View, Animated, Dimensions, PanResponder, StyleSheet, TouchableOpacity, Text, Platform  } from "react-native";
import Svg, { Path, Circle } from 'react-native-svg';
import AsyncStorage from "@react-native-async-storage/async-storage";
import * as Notifications from "expo-notifications";
import { useAppContext } from './AppContext'; 

const Home: React.FC = () => {
  const { reminderTimes } = useAppContext(); 
  const [happiness, setHappiness] = useState<number>(1); // 1 = full glow, 0 = dark
  const cloudOpacity = useRef(new Animated.Value(1)).current;

  

  const checkTimeAndTriggerClouds = () => {
    const currentTime = new Date();
    const currentHour = currentTime.getHours();
    const currentMinute = currentTime.getMinutes();

    reminderTimes.forEach((time) => {
      const [hour, minute] = time.split(':').map(Number);

      // Check if the current time matches any of the reminder times
      if (currentHour === hour && currentMinute === minute) {
        cloudOpacity.setValue(0); // Start removing the clouds at this time
        setHappiness((prev) => Math.max(0, prev - 0.1)); // Decrease happiness
      }
    });
  };

  // Trigger opacity change at the specified reminder times
  useEffect(() => {
    const interval = setInterval(() => {
      checkTimeAndTriggerClouds(); // Check and trigger at the specified times
    }, 60000); // Check every minute

    return () => clearInterval(interval);
  }, [reminderTimes]); // Re-run when reminder times change


  const startMeditation = () => {
    console.log(reminderTimes);
    setHappiness(1); // Fully restores happiness
    
    // Animate cloud opacity back to full (1) when starting meditation
    Animated.timing(cloudOpacity, {
      toValue: 1,
      duration: 20000,
      useNativeDriver: true,
    }).start();
  };
  
  // Function to remove clouds
  const clearClouds = useCallback(() => {
    Animated.timing(cloudOpacity, {
      toValue: 0,
      duration: 1000,
      useNativeDriver: true,
    }).start(() => setHappiness(1));
  }, []);

  // Gesture handling for clearing clouds
  const panResponder = PanResponder.create({
    onStartShouldSetPanResponder: () => true,
    onPanResponderGrant: () => clearClouds(),
  });

  //Temp - set clouds
  const setClouds = async () => {
    cloudOpacity.setValue(0); // Directly set the opacity to 0
    // Optional: You can animate it here if you want to fade out the clouds gradually
    // For example:
    Animated.timing(cloudOpacity, {
      toValue: 0,
      duration: 1000,
      useNativeDriver: true,
    }).start();
  };
  
  
  // Slowly bring back clouds over time
  useEffect(() => {
    const interval = setInterval(() => {
      setHappiness((prev) => Math.max(0, prev - 0.1));
      cloudOpacity.setValue(0); // Gradually bring clouds back
    }, 30000); // Every 30 seconds
    
    return () => clearInterval(interval);
  }, []); 
  
  

  useEffect(() => {
    const loadHappiness = async () => {
      const savedHappiness = await AsyncStorage.getItem("happiness");
      if (savedHappiness !== null) setHappiness(parseFloat(savedHappiness));
    };
    loadHappiness();
  }, []);

  
  useEffect(() => {
    const saveHappiness = async () => {
      await AsyncStorage.setItem("happiness", happiness.toString());
    };
  
    const timeout = setTimeout(saveHappiness, 1000); // Delay saving to prevent excessive writes
  
    return () => clearTimeout(timeout);
  }, [happiness]);
  
  

  useEffect(() => {
    const requestPermissions = async () => {
      const { status } = await Notifications.requestPermissionsAsync();
      if (status !== "granted") {
        alert("Enable notifications to take care of your soul!");
      }
    };
    requestPermissions();
  }, []);
  

  useEffect(() => {
    const scheduleReminder = async () => {
      await Notifications.cancelAllScheduledNotificationsAsync();
      
      const reminders = ["08:00", "14:00", "21:00"];
      
      reminders.forEach(async (time) => {
        const [hour, minute] = time.split(":").map(Number);
        await Notifications.scheduleNotificationAsync({
          content: {
            title: "ðŸ§˜ Soul Care Reminder",
            body: "Time to meditate and clear your soul! âœ¨",
          },
          trigger: { hour, minute, repeats: true },
        });
      });
    };
  
    scheduleReminder();
  }, []);
  
  return (
    <View style={styles.container} {...panResponder.panHandlers} >
      {/* Manually adding the path data from the SVG */}
      <Svg width="90%" height="90%" viewBox="0 0 200 522" style={{ position: 'absolute' }} xmlns="http://www.w3.org/2000/svg">
        <Path
          d="M120.235 520.692C119.252 522.135 115.978 520.692 115.65 520.692C115.323 520.692 114.013 517.084 114.013 516.001C114.013 515.135 113.576 512.272 113.358 510.949V506.98C113.14 506.018 112.834 503.516 113.358 501.207C113.882 498.898 113.576 494.231 113.358 492.186V486.052C113.358 484.969 111.721 482.083 111.721 479.918V473.784C111.721 472.701 111.786 470.175 112.048 468.732C112.31 467.289 113.031 461.395 113.358 458.629C113.14 452.013 112.507 437.339 111.721 431.566C110.935 425.793 110.52 420.982 110.411 419.298V391.875C110.411 385.73 111.393 371.307 111.721 365.895C112.048 360.482 110.083 358.317 109.101 355.791C108.315 353.771 108.774 337.629 109.101 329.811V303.471L107.136 277.13L105.172 265.222L102.552 248.985H99.6048L98.9499 252.593L96.9852 265.222C96.4394 269.191 95.1514 277.418 94.3655 278.573C93.5796 279.728 93.3831 292.766 93.3831 299.141V323.677C93.3831 325.842 93.0557 354.348 92.4008 356.874C91.8768 358.894 90.6543 363.73 90.1086 365.895C90.1086 368.18 90.567 375.132 92.4008 384.658C94.2345 394.184 93.1648 411.239 92.4008 418.576C91.6367 425.673 89.9776 440.731 89.4537 444.195C88.9297 447.659 88.5804 457.666 88.4713 462.237C89.0171 463.921 90.1086 467.433 90.1086 468.01V473.784L91.4184 475.588V479.918C91.4184 480.784 90.1086 484.368 89.4537 486.052V503.733C89.672 504.815 90.1086 507.341 90.1086 508.784C90.1086 510.228 89.0171 511.551 88.4713 512.032V517.084C88.0347 517.805 86.8995 519.537 85.8516 520.692C84.8038 521.846 83.232 521.173 82.5771 520.692L81.2672 518.166L80.6123 519.249L79.6299 519.97L77.6652 519.249H76.0279L74.0632 517.084L72.0984 516.723L71.771 514.197C71.1161 514.437 69.6098 514.341 68.8239 512.032C67.8415 509.145 69.1513 506.619 69.8062 503.011L71.771 492.186L74.0632 482.083C74.2815 480.038 74.5871 475.083 74.0632 471.619C73.4083 467.289 74.0632 466.928 74.0632 462.237C74.0632 458.484 73.4083 453.457 73.0808 451.412C70.6795 437.821 65.6803 409.7 64.8944 405.947C64.1085 402.194 63.6937 391.393 63.5845 386.462V364.09L62.9296 353.987L60.6374 323.677C59.6551 314.416 57.4938 293.512 56.7079 283.986C55.922 274.46 56.3805 243.211 56.7079 228.778L59.3276 203.52C60.31 197.867 62.6022 185.406 63.912 180.787C65.2218 176.169 65.1127 162.265 64.8944 155.89L63.912 135.323L56.053 157.333C55.7256 159.378 54.8742 164.406 54.0883 168.158C53.3024 171.911 52.0144 176.939 51.4686 178.983L45.5744 194.499L37.7154 220.118C37.0605 222.163 35.4232 226.974 34.1134 229.861C32.8036 232.747 32.2578 235.153 32.1487 235.995V248.263L30.5114 257.645V265.222C30.6205 267.147 30.7733 271.284 30.5114 272.439C30.2494 273.594 28.4375 272.92 27.5643 272.439L26.9093 267.026C26.8002 266.064 26.5819 263.49 26.5819 260.892C26.5819 258.294 25.0538 258.366 24.2897 258.727C23.9622 261.253 23.3073 266.666 23.3073 268.109C23.3073 269.552 22.4341 272.319 21.9975 273.521C22.1066 274.724 21.8665 277.418 20.0327 278.573C18.199 279.728 18.6138 275.686 19.0504 273.521L20.0327 266.305L20.6877 260.171L20.0327 258.727L19.0504 260.892L16.1033 268.109C15.6666 269.913 14.6624 273.954 14.1385 275.686C13.6146 277.418 11.5189 277.37 10.5365 277.13V274.965L12.5012 268.109L14.7934 258.727V256.562L12.5012 259.81L8.8992 266.305L6.27954 270.996C5.62463 270.996 4.2493 270.707 3.98734 269.552C3.72537 268.398 4.75141 265.463 5.29717 264.14C6.06123 262.576 7.85134 258.872 8.8992 256.562C9.94706 254.253 10.4273 250.067 10.5365 248.263C10.5365 247.782 9.94706 247.469 7.58937 250.067C5.23168 252.665 2.67751 252.834 1.69514 252.593C1.25853 251.992 0.647278 250.645 1.69514 250.067C2.743 249.49 5.18802 245.978 6.27954 244.294L7.58937 241.046C7.80768 240.565 8.70273 239.242 10.5365 237.799C12.3702 236.356 16.9765 234.311 19.0504 233.469C20.251 229.74 22.9799 221.201 24.2897 216.871C25.5995 212.541 27.0185 199.671 27.5643 193.777C27.5643 192.334 27.8917 187.715 29.2015 180.787C30.5114 173.859 34.1134 164.67 35.7507 160.942C35.8598 161.784 36.9295 160.653 40.3351 149.395C43.7406 138.137 45.4653 121.851 45.9019 115.116C46.011 113.191 46.3603 107.25 46.8842 98.8784C47.5392 88.4143 53.1059 83.0018 55.0707 80.8368C57.0354 78.6718 61.2924 77.9501 68.8239 77.9501C74.8491 77.9501 79.4116 74.8229 80.9398 73.2593C82.7954 71.9362 86.703 67.9911 87.4889 62.7951C88.2748 57.5992 87.8164 54.8568 87.4889 54.1352L85.8516 49.4443L84.5418 41.8669H82.9045L80.9398 37.5369C80.394 35.9733 79.237 32.1965 78.975 29.5985C78.7131 27.0005 80.1757 26.5916 80.9398 26.7119L82.9045 27.7944C82.5771 25.2686 82.1186 19.1344 82.9045 14.8044C83.6904 10.4744 86.9432 6.7458 88.4713 5.42275C89.4537 4.58081 92.4008 2.68042 96.3303 1.81442C101.242 0.731925 106.481 1.81442 108.446 1.81442C110.411 1.81442 114.995 5.42275 116.633 8.30941C117.942 10.6187 119.361 17.21 119.907 20.2169V28.516C119.361 29.5985 118.728 31.114 120.562 28.516C122.396 25.918 123.509 28.7566 123.837 29.5985V33.9285C122.854 35.3719 122.265 38.042 121.217 40.0627C120.169 42.0834 118.816 42.1074 118.27 41.8669L117.288 47.2794L114.995 54.1352C114.886 56.0596 114.733 60.6302 114.995 63.5168C115.323 67.1251 118.925 71.816 119.907 73.2593C120.693 74.414 127.657 76.8676 131.041 77.9501H142.502C144.335 77.9501 147.85 81.5584 149.378 83.3626C151.016 85.6479 154.421 90.9401 154.945 93.8268C155.6 97.4351 155.6 99.9609 156.255 103.208C156.91 106.456 156.582 116.92 157.237 124.137C157.761 129.91 162.477 147.711 164.769 155.89C165.315 157.093 166.996 160.725 169.353 165.632C171.711 170.54 174.047 184.997 174.92 191.612C174.92 195.221 175.182 203.52 176.23 207.85C177.278 212.18 179.941 221.922 181.142 226.252L184.744 234.912C185.18 235.273 186.839 236.356 189.983 237.799C193.127 239.242 194.567 241.528 194.895 242.49L198.169 247.181L201.117 251.511C200.855 253.531 198.169 253.074 196.86 252.593L190.965 246.098V252.593L195.877 263.057C196.532 263.779 197.907 265.8 198.169 268.109C198.431 270.418 196.75 270.996 195.877 270.996L192.275 265.222L189.983 259.81L188.018 257.645L189.001 265.222C189.983 268.71 191.751 275.975 190.965 277.13C190.179 278.284 188.673 276.649 188.018 275.686L186.054 270.996L183.434 258.727H182.124V266.305L183.434 274.965V278.573H181.142C180.705 277.37 179.766 274.676 179.504 273.521C179.242 272.367 178.304 263.899 177.867 259.81L176.23 258.727L174.92 270.996C175.466 271.477 176.23 272.439 174.92 272.439C173.61 272.439 172.409 271.477 171.973 270.996C171.973 266.185 171.645 255.047 170.336 248.985C169.026 242.923 169.79 237.077 170.336 234.912L166.406 224.448L158.875 201.355C157.565 197.747 154.618 189.808 153.308 186.922C151.671 183.313 150.361 178.983 149.378 175.736C148.592 173.138 148.396 167.437 148.396 164.911L143.812 149.395L138.572 135.323L136.935 162.024C136.826 165.632 136.673 173.787 136.935 177.54C137.262 182.231 139.227 185.839 140.21 188.004C141.192 190.169 143.812 210.015 143.812 211.097C143.812 212.18 146.104 239.242 146.104 241.046V253.315C145.995 257.645 145.842 267.532 146.104 272.439C146.366 277.346 144.685 296.374 143.812 305.275L139.882 348.214C139.555 351.1 139.096 357.595 139.882 360.482C140.668 363.369 139.555 368.18 138.9 370.225V382.493C139.009 385.019 139.162 391.442 138.9 396.926C138.638 402.411 135.079 422.305 133.333 431.566C132.132 437.7 129.534 450.546 128.749 452.855C127.963 455.165 128.421 461.756 128.749 464.763L129.731 468.732C129.731 469.694 129.534 472.412 128.749 475.588C127.963 478.763 128.421 481.241 128.749 482.083L129.731 486.052L131.368 493.99V499.764C131.696 500.846 132.547 503.805 133.333 506.98C134.119 510.156 133.66 510.949 133.333 510.949V514.197L131.368 514.558L130.713 517.084H128.749L127.439 518.527C126.565 518.767 124.038 519.97 122.527 519.97"
          fill="#69818e" 
        />
      </Svg>

      {/* Cloud Animation */}
        <Animated.View
          style={[styles.cloudContainer, { opacity: cloudOpacity }]}
        >
          <Svg  viewBox="0 0 200 522" xmlns="http://www.w3.org/2000/svg">
            <Path
              d="M120.235 520.692C119.252 522.135 115.978 520.692 115.65 520.692C115.323 520.692 114.013 517.084 114.013 516.001C114.013 515.135 113.576 512.272 113.358 510.949V506.98C113.14 506.018 112.834 503.516 113.358 501.207C113.882 498.898 113.576 494.231 113.358 492.186V486.052C113.358 484.969 111.721 482.083 111.721 479.918V473.784C111.721 472.701 111.786 470.175 112.048 468.732C112.31 467.289 113.031 461.395 113.358 458.629C113.14 452.013 112.507 437.339 111.721 431.566C110.935 425.793 110.52 420.982 110.411 419.298V391.875C110.411 385.73 111.393 371.307 111.721 365.895C112.048 360.482 110.083 358.317 109.101 355.791C108.315 353.771 108.774 337.629 109.101 329.811V303.471L107.136 277.13L105.172 265.222L102.552 248.985H99.6048L98.9499 252.593L96.9852 265.222C96.4394 269.191 95.1514 277.418 94.3655 278.573C93.5796 279.728 93.3831 292.766 93.3831 299.141V323.677C93.3831 325.842 93.0557 354.348 92.4008 356.874C91.8768 358.894 90.6543 363.73 90.1086 365.895C90.1086 368.18 90.567 375.132 92.4008 384.658C94.2345 394.184 93.1648 411.239 92.4008 418.576C91.6367 425.673 89.9776 440.731 89.4537 444.195C88.9297 447.659 88.5804 457.666 88.4713 462.237C89.0171 463.921 90.1086 467.433 90.1086 468.01V473.784L91.4184 475.588V479.918C91.4184 480.784 90.1086 484.368 89.4537 486.052V503.733C89.672 504.815 90.1086 507.341 90.1086 508.784C90.1086 510.228 89.0171 511.551 88.4713 512.032V517.084C88.0347 517.805 86.8995 519.537 85.8516 520.692C84.8038 521.846 83.232 521.173 82.5771 520.692L81.2672 518.166L80.6123 519.249L79.6299 519.97L77.6652 519.249H76.0279L74.0632 517.084L72.0984 516.723L71.771 514.197C71.1161 514.437 69.6098 514.341 68.8239 512.032C67.8415 509.145 69.1513 506.619 69.8062 503.011L71.771 492.186L74.0632 482.083C74.2815 480.038 74.5871 475.083 74.0632 471.619C73.4083 467.289 74.0632 466.928 74.0632 462.237C74.0632 458.484 73.4083 453.457 73.0808 451.412C70.6795 437.821 65.6803 409.7 64.8944 405.947C64.1085 402.194 63.6937 391.393 63.5845 386.462V364.09L62.9296 353.987L60.6374 323.677C59.6551 314.416 57.4938 293.512 56.7079 283.986C55.922 274.46 56.3805 243.211 56.7079 228.778L59.3276 203.52C60.31 197.867 62.6022 185.406 63.912 180.787C65.2218 176.169 65.1127 162.265 64.8944 155.89L63.912 135.323L56.053 157.333C55.7256 159.378 54.8742 164.406 54.0883 168.158C53.3024 171.911 52.0144 176.939 51.4686 178.983L45.5744 194.499L37.7154 220.118C37.0605 222.163 35.4232 226.974 34.1134 229.861C32.8036 232.747 32.2578 235.153 32.1487 235.995V248.263L30.5114 257.645V265.222C30.6205 267.147 30.7733 271.284 30.5114 272.439C30.2494 273.594 28.4375 272.92 27.5643 272.439L26.9093 267.026C26.8002 266.064 26.5819 263.49 26.5819 260.892C26.5819 258.294 25.0538 258.366 24.2897 258.727C23.9622 261.253 23.3073 266.666 23.3073 268.109C23.3073 269.552 22.4341 272.319 21.9975 273.521C22.1066 274.724 21.8665 277.418 20.0327 278.573C18.199 279.728 18.6138 275.686 19.0504 273.521L20.0327 266.305L20.6877 260.171L20.0327 258.727L19.0504 260.892L16.1033 268.109C15.6666 269.913 14.6624 273.954 14.1385 275.686C13.6146 277.418 11.5189 277.37 10.5365 277.13V274.965L12.5012 268.109L14.7934 258.727V256.562L12.5012 259.81L8.8992 266.305L6.27954 270.996C5.62463 270.996 4.2493 270.707 3.98734 269.552C3.72537 268.398 4.75141 265.463 5.29717 264.14C6.06123 262.576 7.85134 258.872 8.8992 256.562C9.94706 254.253 10.4273 250.067 10.5365 248.263C10.5365 247.782 9.94706 247.469 7.58937 250.067C5.23168 252.665 2.67751 252.834 1.69514 252.593C1.25853 251.992 0.647278 250.645 1.69514 250.067C2.743 249.49 5.18802 245.978 6.27954 244.294L7.58937 241.046C7.80768 240.565 8.70273 239.242 10.5365 237.799C12.3702 236.356 16.9765 234.311 19.0504 233.469C20.251 229.74 22.9799 221.201 24.2897 216.871C25.5995 212.541 27.0185 199.671 27.5643 193.777C27.5643 192.334 27.8917 187.715 29.2015 180.787C30.5114 173.859 34.1134 164.67 35.7507 160.942C35.8598 161.784 36.9295 160.653 40.3351 149.395C43.7406 138.137 45.4653 121.851 45.9019 115.116C46.011 113.191 46.3603 107.25 46.8842 98.8784C47.5392 88.4143 53.1059 83.0018 55.0707 80.8368C57.0354 78.6718 61.2924 77.9501 68.8239 77.9501C74.8491 77.9501 79.4116 74.8229 80.9398 73.2593C82.7954 71.9362 86.703 67.9911 87.4889 62.7951C88.2748 57.5992 87.8164 54.8568 87.4889 54.1352L85.8516 49.4443L84.5418 41.8669H82.9045L80.9398 37.5369C80.394 35.9733 79.237 32.1965 78.975 29.5985C78.7131 27.0005 80.1757 26.5916 80.9398 26.7119L82.9045 27.7944C82.5771 25.2686 82.1186 19.1344 82.9045 14.8044C83.6904 10.4744 86.9432 6.7458 88.4713 5.42275C89.4537 4.58081 92.4008 2.68042 96.3303 1.81442C101.242 0.731925 106.481 1.81442 108.446 1.81442C110.411 1.81442 114.995 5.42275 116.633 8.30941C117.942 10.6187 119.361 17.21 119.907 20.2169V28.516C119.361 29.5985 118.728 31.114 120.562 28.516C122.396 25.918 123.509 28.7566 123.837 29.5985V33.9285C122.854 35.3719 122.265 38.042 121.217 40.0627C120.169 42.0834 118.816 42.1074 118.27 41.8669L117.288 47.2794L114.995 54.1352C114.886 56.0596 114.733 60.6302 114.995 63.5168C115.323 67.1251 118.925 71.816 119.907 73.2593C120.693 74.414 127.657 76.8676 131.041 77.9501H142.502C144.335 77.9501 147.85 81.5584 149.378 83.3626C151.016 85.6479 154.421 90.9401 154.945 93.8268C155.6 97.4351 155.6 99.9609 156.255 103.208C156.91 106.456 156.582 116.92 157.237 124.137C157.761 129.91 162.477 147.711 164.769 155.89C165.315 157.093 166.996 160.725 169.353 165.632C171.711 170.54 174.047 184.997 174.92 191.612C174.92 195.221 175.182 203.52 176.23 207.85C177.278 212.18 179.941 221.922 181.142 226.252L184.744 234.912C185.18 235.273 186.839 236.356 189.983 237.799C193.127 239.242 194.567 241.528 194.895 242.49L198.169 247.181L201.117 251.511C200.855 253.531 198.169 253.074 196.86 252.593L190.965 246.098V252.593L195.877 263.057C196.532 263.779 197.907 265.8 198.169 268.109C198.431 270.418 196.75 270.996 195.877 270.996L192.275 265.222L189.983 259.81L188.018 257.645L189.001 265.222C189.983 268.71 191.751 275.975 190.965 277.13C190.179 278.284 188.673 276.649 188.018 275.686L186.054 270.996L183.434 258.727H182.124V266.305L183.434 274.965V278.573H181.142C180.705 277.37 179.766 274.676 179.504 273.521C179.242 272.367 178.304 263.899 177.867 259.81L176.23 258.727L174.92 270.996C175.466 271.477 176.23 272.439 174.92 272.439C173.61 272.439 172.409 271.477 171.973 270.996C171.973 266.185 171.645 255.047 170.336 248.985C169.026 242.923 169.79 237.077 170.336 234.912L166.406 224.448L158.875 201.355C157.565 197.747 154.618 189.808 153.308 186.922C151.671 183.313 150.361 178.983 149.378 175.736C148.592 173.138 148.396 167.437 148.396 164.911L143.812 149.395L138.572 135.323L136.935 162.024C136.826 165.632 136.673 173.787 136.935 177.54C137.262 182.231 139.227 185.839 140.21 188.004C141.192 190.169 143.812 210.015 143.812 211.097C143.812 212.18 146.104 239.242 146.104 241.046V253.315C145.995 257.645 145.842 267.532 146.104 272.439C146.366 277.346 144.685 296.374 143.812 305.275L139.882 348.214C139.555 351.1 139.096 357.595 139.882 360.482C140.668 363.369 139.555 368.18 138.9 370.225V382.493C139.009 385.019 139.162 391.442 138.9 396.926C138.638 402.411 135.079 422.305 133.333 431.566C132.132 437.7 129.534 450.546 128.749 452.855C127.963 455.165 128.421 461.756 128.749 464.763L129.731 468.732C129.731 469.694 129.534 472.412 128.749 475.588C127.963 478.763 128.421 481.241 128.749 482.083L129.731 486.052L131.368 493.99V499.764C131.696 500.846 132.547 503.805 133.333 506.98C134.119 510.156 133.66 510.949 133.333 510.949V514.197L131.368 514.558L130.713 517.084H128.749L127.439 518.527C126.565 518.767 124.038 519.97 122.527 519.97"
              fill="#fff"
            />
          </Svg>
        </Animated.View>

      <TouchableOpacity onPress={startMeditation} style={styles.meditationButton}>
        <Text style={styles.meditationText}>ðŸ§˜</Text>
      </TouchableOpacity>
      <TouchableOpacity onPress={setClouds} style={styles.cloudButton}>
        <Text style={styles.meditationText}>clouds</Text>
      </TouchableOpacity>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    justifyContent: "center",
    alignItems: "center",
    backgroundColor: "#1e769a", // Sky color
    position: 'relative',
  },
  cloudContainer: {
    width:"90%",
    height:"90%"
  },
  meditationButton: {
    position: "absolute",
    bottom: 20,
    left:10,
    backgroundColor: "#6a5acd",
    padding: 15,
    borderRadius: 20,
  },
  cloudButton: {
    position: "absolute",
    bottom: 20,
    left:70,
    backgroundColor: "#6a5acd",
    padding: 15,
    borderRadius: 20,
  },
  meditationText: {
    color: "white",
    fontSize: 18,
    fontWeight: "bold",
  },
  
});

export default Home;
